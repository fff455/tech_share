 # 20190811 技术分享
 
 ## travmygit
 
 ## redOvO
 
 ## cosunny
 
 ## xiaobaiha

 ### Github trending

 #### 项目设计
 
 1. 项目总共分为3部分：前端/后端/源数据存入和更新
 2. 前端react仿照github trending的页面，加入日期选择
 3. 后端node主要实现从数据库中读取数据
 4. 源数据使用定时go脚本进行爬虫获取，获取每天的github trending，并将结果存入数据库

 #### 定时脚本
 
 Github trending有一个总的排行，还有各语言的排行，抓取的时候需要对每个语言都抓取一遍，抓取到相同的文章时，应该更新文章的star和for数目  
 实现定时脚本使用了linux中的crontab。crontab命令接受一个时间规则与命令，根据时间规则来定时执行任务，例如:
 ```
 28 05 * * * bash /github_trending_go.sh >> $HOME/for_crontab/mylog.log 2>&1
 ```
 表明在每天的5点28分，执行sh命令，并将log存入mylog.log文件。
 crontab在使用过程中有许多坑，比如它使用的环境变量和系统中使用的不是同一套，在shell中可用的变量在crontab脚本中不同使用，需要先定义一遍；此外，crontab的时间与系统的本地时间也是不同的，在编写时间规则的时候需要确定crontab使用的时区，例如我的服务器的crontab使用的是标准时区，要比北京时间慢8个小时，所以上述命令是在每天的北京时间13点28分执行命令。

 #### Go
 Go语言是一种自举语言。起始是使用部分C语言来实现的，随着Go的发展，C语言部分被完全移除掉，实现自举，可以直接编译成机器码。
 Go语言的优势在于可以直接使用系统调用，是面向系统级的native语言，尤其在并发的情景下，会比python更有竞争力。适合服务器编程。